{"ast":null,"code":"import _regeneratorRuntime from \"/home/devbox/project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/devbox/project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url.to-json.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { ref, onMounted, watch, computed } from 'vue';\nimport { ElMessage, ElMessageBox } from 'element-plus';\nimport { Search, Upload, Download, Delete } from '@element-plus/icons-vue';\nimport { getFileList, uploadFile, downloadFile, deleteFile } from '@/api/file';\nimport { getTagList, addTagToFile, removeTagFromFile, getFileTags } from '@/api/tag';\n\n// 状态变量\n\nexport default {\n  __name: 'index',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var fileList = ref([]);\n    var total = ref(0);\n    var currentPage = ref(1);\n    var pageSize = ref(10);\n    var searchQuery = ref('');\n    var fileType = ref('');\n\n    // 标签相关的状态\n    var tagList = ref([]);\n    var selectedFile = ref(null);\n    var currentFileTags = ref([]);\n    var selectedTag = ref(null);\n    var tagDialogVisible = ref(false);\n\n    // 计算可用的标签（排除已添加的标签）\n    var availableTags = computed(function () {\n      var currentTagIds = currentFileTags.value.map(function (tag) {\n        return tag.id;\n      });\n      return tagList.value.filter(function (tag) {\n        return !currentTagIds.includes(tag.id);\n      });\n    });\n\n    // 获取文件列表\n    var getFiles = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return getFileList({\n                page: currentPage.value,\n                pageSize: pageSize.value,\n                fileType: fileType.value,\n                keyword: searchQuery.value\n              });\n            case 3:\n              res = _context.sent;\n              fileList.value = res.Data.files;\n              total.value = res.Data.total;\n              _context.next = 12;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              ElMessage.error('获取文件列表失败');\n              console.error('获取文件列表失败:', _context.t0);\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 8]]);\n      }));\n      return function getFiles() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    // 文件上传\n    var handleUpload = /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref3) {\n        var file, formData, res, _error$response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              file = _ref3.file;\n              _context2.prev = 1;\n              formData = new FormData();\n              formData.append('file', file);\n              _context2.next = 6;\n              return uploadFile(formData);\n            case 6:\n              res = _context2.sent;\n              if (res.Success) {\n                ElMessage.success('上传成功');\n                getFiles();\n              }\n              _context2.next = 14;\n              break;\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](1);\n              ElMessage.error(((_error$response = _context2.t0.response) === null || _error$response === void 0 || (_error$response = _error$response.data) === null || _error$response === void 0 ? void 0 : _error$response.Msg) || '上传失败');\n              console.error('上传失败:', _context2.t0);\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[1, 10]]);\n      }));\n      return function handleUpload(_x) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    // 文件下载\n    var handleDownload = /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(row) {\n        var res, text, error, blob, url, link;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return downloadFile(row.id);\n            case 3:\n              res = _context3.sent;\n              if (!(res instanceof Blob && res.type === 'application/json')) {\n                _context3.next = 10;\n                break;\n              }\n              _context3.next = 7;\n              return res.text();\n            case 7:\n              text = _context3.sent;\n              error = JSON.parse(text);\n              throw new Error(error.Msg || '下载失败');\n            case 10:\n              // 创建 blob URL\n              blob = new Blob([res], {\n                type: 'application/octet-stream'\n              });\n              url = window.URL.createObjectURL(blob); // 创建临时下载链接\n              link = document.createElement('a');\n              link.href = url;\n              link.download = row.original_name;\n              document.body.appendChild(link);\n              link.click();\n\n              // 清理\n              document.body.removeChild(link);\n              window.URL.revokeObjectURL(url);\n              _context3.next = 25;\n              break;\n            case 21:\n              _context3.prev = 21;\n              _context3.t0 = _context3[\"catch\"](0);\n              ElMessage.error(_context3.t0.message || '下载失败');\n              console.error('下载失败:', _context3.t0);\n            case 25:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[0, 21]]);\n      }));\n      return function handleDownload(_x2) {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n\n    // 文件删除\n    var handleDelete = function handleDelete(row) {\n      ElMessageBox.confirm('确定要删除该文件吗？', '提示', {\n        type: 'warning'\n      }).then(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return deleteFile(row.id);\n            case 3:\n              ElMessage.success('删除成功');\n              getFiles();\n              _context4.next = 10;\n              break;\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](0);\n              console.error('删除失败:', _context4.t0);\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, null, [[0, 7]]);\n      })));\n    };\n\n    // 搜索处理\n    var handleSearch = function handleSearch() {\n      currentPage.value = 1;\n      getFiles();\n    };\n\n    // 分页处理\n    var handleSizeChange = function handleSizeChange(val) {\n      pageSize.value = val;\n      getFiles();\n    };\n    var handleCurrentChange = function handleCurrentChange(val) {\n      currentPage.value = val;\n      getFiles();\n    };\n\n    // 工具函数\n    var formatFileSize = function formatFileSize(size) {\n      if (size < 1024) return size + ' B';\n      if (size < 1024 * 1024) return (size / 1024).toFixed(2) + ' KB';\n      if (size < 1024 * 1024 * 1024) return (size / (1024 * 1024)).toFixed(2) + ' MB';\n      return (size / (1024 * 1024 * 1024)).toFixed(2) + ' GB';\n    };\n    var formatDate = function formatDate(date) {\n      return new Date(date).toLocaleString();\n    };\n\n    // 获取所有标签\n    var getTags = /*#__PURE__*/function () {\n      var _ref7 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return getTagList();\n            case 3:\n              res = _context5.sent;\n              tagList.value = res.Data;\n              _context5.next = 10;\n              break;\n            case 7:\n              _context5.prev = 7;\n              _context5.t0 = _context5[\"catch\"](0);\n              console.error('获取标签列表失败:', _context5.t0);\n            case 10:\n            case \"end\":\n              return _context5.stop();\n          }\n        }, _callee5, null, [[0, 7]]);\n      }));\n      return function getTags() {\n        return _ref7.apply(this, arguments);\n      };\n    }();\n\n    // 获取文件的标签\n    var getFileTagList = /*#__PURE__*/function () {\n      var _ref8 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(fileId) {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.prev = 0;\n              _context6.next = 3;\n              return getFileTags(fileId);\n            case 3:\n              res = _context6.sent;\n              currentFileTags.value = res.Data;\n              _context6.next = 10;\n              break;\n            case 7:\n              _context6.prev = 7;\n              _context6.t0 = _context6[\"catch\"](0);\n              console.error('获取文件标签失败:', _context6.t0);\n            case 10:\n            case \"end\":\n              return _context6.stop();\n          }\n        }, _callee6, null, [[0, 7]]);\n      }));\n      return function getFileTagList(_x3) {\n        return _ref8.apply(this, arguments);\n      };\n    }();\n\n    // 打开标签管理对话框\n    var handleManageTags = /*#__PURE__*/function () {\n      var _ref9 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(file) {\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              selectedFile.value = file;\n              _context7.next = 3;\n              return getFileTagList(file.id);\n            case 3:\n              tagDialogVisible.value = true;\n            case 4:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7);\n      }));\n      return function handleManageTags(_x4) {\n        return _ref9.apply(this, arguments);\n      };\n    }();\n\n    // 添加标签\n    var handleAddTag = /*#__PURE__*/function () {\n      var _ref10 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              if (selectedTag.value) {\n                _context8.next = 2;\n                break;\n              }\n              return _context8.abrupt(\"return\");\n            case 2:\n              _context8.prev = 2;\n              _context8.next = 5;\n              return addTagToFile({\n                fileId: selectedFile.value.id,\n                tagId: selectedTag.value\n              });\n            case 5:\n              _context8.next = 7;\n              return getFileTagList(selectedFile.value.id);\n            case 7:\n              _context8.next = 9;\n              return getFiles();\n            case 9:\n              // 刷新文件列表以更新标签\n              selectedTag.value = null;\n              ElMessage.success('添加标签成功');\n              _context8.next = 16;\n              break;\n            case 13:\n              _context8.prev = 13;\n              _context8.t0 = _context8[\"catch\"](2);\n              console.error('添加标签失败:', _context8.t0);\n            case 16:\n            case \"end\":\n              return _context8.stop();\n          }\n        }, _callee8, null, [[2, 13]]);\n      }));\n      return function handleAddTag() {\n        return _ref10.apply(this, arguments);\n      };\n    }();\n\n    // 移除标签\n    var handleRemoveTag = /*#__PURE__*/function () {\n      var _ref11 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(tag) {\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.prev = 0;\n              _context9.next = 3;\n              return removeTagFromFile(selectedFile.value.id, tag.id);\n            case 3:\n              _context9.next = 5;\n              return getFileTagList(selectedFile.value.id);\n            case 5:\n              _context9.next = 7;\n              return getFiles();\n            case 7:\n              // 刷新文件列表以更新标签\n              ElMessage.success('移除标签成功');\n              _context9.next = 13;\n              break;\n            case 10:\n              _context9.prev = 10;\n              _context9.t0 = _context9[\"catch\"](0);\n              console.error('移除标签失败:', _context9.t0);\n            case 13:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee9, null, [[0, 10]]);\n      }));\n      return function handleRemoveTag(_x5) {\n        return _ref11.apply(this, arguments);\n      };\n    }();\n\n    // 初始化\n    onMounted(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n      return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n        while (1) switch (_context10.prev = _context10.next) {\n          case 0:\n            _context10.next = 2;\n            return getFiles();\n          case 2:\n            _context10.next = 4;\n            return getTags();\n          case 4:\n          case \"end\":\n            return _context10.stop();\n        }\n      }, _callee10);\n    })));\n\n    // 监听文件类型变化\n    watch(fileType, function () {\n      handleSearch();\n    });\n    var __returned__ = {\n      fileList: fileList,\n      total: total,\n      currentPage: currentPage,\n      pageSize: pageSize,\n      searchQuery: searchQuery,\n      fileType: fileType,\n      tagList: tagList,\n      selectedFile: selectedFile,\n      currentFileTags: currentFileTags,\n      selectedTag: selectedTag,\n      tagDialogVisible: tagDialogVisible,\n      availableTags: availableTags,\n      getFiles: getFiles,\n      handleUpload: handleUpload,\n      handleDownload: handleDownload,\n      handleDelete: handleDelete,\n      handleSearch: handleSearch,\n      handleSizeChange: handleSizeChange,\n      handleCurrentChange: handleCurrentChange,\n      formatFileSize: formatFileSize,\n      formatDate: formatDate,\n      getTags: getTags,\n      getFileTagList: getFileTagList,\n      handleManageTags: handleManageTags,\n      handleAddTag: handleAddTag,\n      handleRemoveTag: handleRemoveTag,\n      ref: ref,\n      onMounted: onMounted,\n      watch: watch,\n      computed: computed,\n      get ElMessage() {\n        return ElMessage;\n      },\n      get ElMessageBox() {\n        return ElMessageBox;\n      },\n      get Search() {\n        return Search;\n      },\n      get Upload() {\n        return Upload;\n      },\n      get Download() {\n        return Download;\n      },\n      get Delete() {\n        return Delete;\n      },\n      get getFileList() {\n        return getFileList;\n      },\n      get uploadFile() {\n        return uploadFile;\n      },\n      get downloadFile() {\n        return downloadFile;\n      },\n      get deleteFile() {\n        return deleteFile;\n      },\n      get getTagList() {\n        return getTagList;\n      },\n      get addTagToFile() {\n        return addTagToFile;\n      },\n      get removeTagFromFile() {\n        return removeTagFromFile;\n      },\n      get getFileTags() {\n        return getFileTags;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","watch","computed","ElMessage","ElMessageBox","Search","Upload","Download","Delete","getFileList","uploadFile","downloadFile","deleteFile","getTagList","addTagToFile","removeTagFromFile","getFileTags","fileList","total","currentPage","pageSize","searchQuery","fileType","tagList","selectedFile","currentFileTags","selectedTag","tagDialogVisible","availableTags","currentTagIds","value","map","tag","id","filter","includes","getFiles","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","page","keyword","sent","Data","files","t0","error","console","stop","apply","arguments","handleUpload","_ref4","_callee2","_ref3","file","formData","_error$response","_callee2$","_context2","FormData","append","Success","success","response","data","Msg","_x","handleDownload","_ref5","_callee3","row","text","blob","url","link","_callee3$","_context3","Blob","type","JSON","parse","Error","window","URL","createObjectURL","document","createElement","href","download","original_name","body","appendChild","click","removeChild","revokeObjectURL","message","_x2","handleDelete","confirm","then","_callee4","_callee4$","_context4","handleSearch","handleSizeChange","val","handleCurrentChange","formatFileSize","size","toFixed","formatDate","date","Date","toLocaleString","getTags","_ref7","_callee5","_callee5$","_context5","getFileTagList","_ref8","_callee6","fileId","_callee6$","_context6","_x3","handleManageTags","_ref9","_callee7","_callee7$","_context7","_x4","handleAddTag","_ref10","_callee8","_callee8$","_context8","abrupt","tagId","handleRemoveTag","_ref11","_callee9","_callee9$","_context9","_x5","_callee10","_callee10$","_context10"],"sources":["/home/devbox/project/src/views/file/index.vue"],"sourcesContent":["<template>\n  <div class=\"file-container\">\n    <!-- 搜索和操作栏 -->\n    <div class=\"operation-bar\">\n      <div class=\"left\">\n        <el-upload\n          class=\"upload-btn\"\n          :action=\"null\"\n          :http-request=\"handleUpload\"\n          :show-file-list=\"false\"\n          :multiple=\"true\"\n        >\n          <el-button type=\"primary\">\n            <el-icon><Upload /></el-icon>\n            上传文件\n          </el-button>\n        </el-upload>\n      </div>\n      <div class=\"right\">\n        <el-input\n          v-model=\"searchQuery\"\n          placeholder=\"搜索文件名\"\n          class=\"search-input\"\n          clearable\n          @keyup.enter=\"handleSearch\"\n        >\n          <template #suffix>\n            <el-icon><Search /></el-icon>\n          </template>\n        </el-input>\n        <el-select v-model=\"fileType\" placeholder=\"文件类型\" clearable @change=\"handleSearch\">\n          <el-option label=\"全部\" value=\"\" />\n          <el-option label=\"文档\" value=\".doc,.docx,.pdf,.txt\" />\n          <el-option label=\"代码\" value=\".js,.java,.py,.cpp,.cs,.html,.css,.php,.sql\" />\n          <el-option label=\"图片\" value=\".jpg,.jpeg,.png,.gif\" />\n          <el-option label=\"视频\" value=\".mp4,.avi,.mov\" />\n          <el-option label=\"音频\" value=\".mp3,.wav,.ogg\" />\n          <el-option label=\"压缩包\" value=\".zip,.rar,.7z\" />\n          <el-option label=\"其他\" value=\"other\" />\n        </el-select>\n      </div>\n    </div>\n\n    <!-- 文件列表 -->\n    <el-table :data=\"fileList\" border style=\"width: 100%\">\n      <el-table-column prop=\"original_name\" label=\"文件名\" min-width=\"200\">\n        <template #default=\"{ row }\">\n          <el-tooltip :content=\"row.original_name\" placement=\"top\">\n            <span class=\"file-name\">{{ row.original_name }}</span>\n          </el-tooltip>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"file_type\" label=\"类型\" width=\"100\">\n        <template #default=\"{ row }\">\n          {{ row.file_type }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"file_size\" label=\"大小\" width=\"120\">\n        <template #default=\"{ row }\">\n          {{ formatFileSize(row.file_size) }}\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"created_at\" label=\"上传时间\" width=\"180\">\n        <template #default=\"{ row }\">\n          {{ formatDate(row.created_at) }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"标签\" min-width=\"150\">\n        <template #default=\"{ row }\">\n          <div class=\"tag-list\">\n            <el-tag\n              v-for=\"tag in row.tags\"\n              :key=\"tag.id\"\n              size=\"small\"\n              class=\"tag-item\"\n            >\n              {{ tag.name }}\n            </el-tag>\n            <el-button\n              type=\"primary\"\n              link\n              size=\"small\"\n              @click=\"handleManageTags(row)\"\n            >\n              管理标签\n            </el-button>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"200\" fixed=\"right\">\n        <template #default=\"{ row }\">\n          <el-button type=\"primary\" link @click=\"handleDownload(row)\">\n            <el-icon><Download /></el-icon>\n            下载\n          </el-button>\n          <el-button type=\"danger\" link @click=\"handleDelete(row)\">\n            <el-icon><Delete /></el-icon>\n            删除\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 分页 -->\n    <div class=\"pagination-container\">\n      <el-pagination\n        v-model:current-page=\"currentPage\"\n        v-model:page-size=\"pageSize\"\n        :total=\"total\"\n        :page-sizes=\"[10, 20, 50, 100]\"\n        layout=\"total, sizes, prev, pager, next\"\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n      />\n    </div>\n\n    <!-- 添加标签管理对话框 -->\n    <el-dialog\n      v-model=\"tagDialogVisible\"\n      title=\"管理标签\"\n      width=\"500px\"\n    >\n      <div v-if=\"selectedFile\" class=\"tag-dialog-content\">\n        <div class=\"current-tags\">\n          <h4>当前标签：</h4>\n          <el-tag\n            v-for=\"tag in currentFileTags\"\n            :key=\"tag.id\"\n            closable\n            @close=\"handleRemoveTag(tag)\"\n          >\n            {{ tag.name }}\n          </el-tag>\n        </div>\n\n        <div class=\"add-tag\">\n          <h4>添加标签：</h4>\n          <div class=\"tag-select-row\">\n            <el-select\n              v-model=\"selectedTag\"\n              placeholder=\"选择标签\"\n              class=\"tag-select\"\n            >\n              <el-option\n                v-for=\"tag in availableTags\"\n                :key=\"tag.id\"\n                :label=\"tag.name\"\n                :value=\"tag.id\"\n              />\n            </el-select>\n            <el-button type=\"primary\" @click=\"handleAddTag\">添加</el-button>\n          </div>\n        </div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, watch, computed } from 'vue';\nimport { ElMessage, ElMessageBox } from 'element-plus';\nimport { Search, Upload, Download, Delete } from '@element-plus/icons-vue';\nimport { getFileList, uploadFile, downloadFile, deleteFile } from '@/api/file';\nimport { getTagList, addTagToFile, removeTagFromFile, getFileTags } from '@/api/tag';\n\n// 状态变量\nconst fileList = ref([]);\nconst total = ref(0);\nconst currentPage = ref(1);\nconst pageSize = ref(10);\nconst searchQuery = ref('');\nconst fileType = ref('');\n\n// 标签相关的状态\nconst tagList = ref([]);\nconst selectedFile = ref(null);\nconst currentFileTags = ref([]);\nconst selectedTag = ref(null);\nconst tagDialogVisible = ref(false);\n\n// 计算可用的标签（排除已添加的标签）\nconst availableTags = computed(() => {\n  const currentTagIds = currentFileTags.value.map(tag => tag.id);\n  return tagList.value.filter(tag => !currentTagIds.includes(tag.id));\n});\n\n// 获取文件列表\nconst getFiles = async () => {\n  try {\n    const res = await getFileList({\n      page: currentPage.value,\n      pageSize: pageSize.value,\n      fileType: fileType.value,\n      keyword: searchQuery.value\n    });\n    fileList.value = res.Data.files;\n    total.value = res.Data.total;\n  } catch (error) {\n    ElMessage.error('获取文件列表失败');\n    console.error('获取文件列表失败:', error);\n  }\n};\n\n// 文件上传\nconst handleUpload = async ({ file }) => {\n  try {\n    const formData = new FormData();\n    formData.append('file', file);\n    const res = await uploadFile(formData);\n    if (res.Success) {\n      ElMessage.success('上传成功');\n      getFiles();\n    }\n  } catch (error) {\n    ElMessage.error(error.response?.data?.Msg || '上传失败');\n    console.error('上传失败:', error);\n  }\n};\n\n// 文件下载\nconst handleDownload = async (row) => {\n  try {\n    const res = await downloadFile(row.id);\n    \n    // 检查是否是错误响应\n    if (res instanceof Blob && res.type === 'application/json') {\n      const text = await res.text();\n      const error = JSON.parse(text);\n      throw new Error(error.Msg || '下载失败');\n    }\n    \n    // 创建 blob URL\n    const blob = new Blob([res], { type: 'application/octet-stream' });\n    const url = window.URL.createObjectURL(blob);\n    \n    // 创建临时下载链接\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = row.original_name;\n    document.body.appendChild(link);\n    link.click();\n    \n    // 清理\n    document.body.removeChild(link);\n    window.URL.revokeObjectURL(url);\n  } catch (error) {\n    ElMessage.error(error.message || '下载失败');\n    console.error('下载失败:', error);\n  }\n};\n\n// 文件删除\nconst handleDelete = (row) => {\n  ElMessageBox.confirm('确定要删除该文件吗？', '提示', {\n    type: 'warning'\n  }).then(async () => {\n    try {\n      await deleteFile(row.id);\n      ElMessage.success('删除成功');\n      getFiles();\n    } catch (error) {\n      console.error('删除失败:', error);\n    }\n  });\n};\n\n// 搜索处理\nconst handleSearch = () => {\n  currentPage.value = 1;\n  getFiles();\n};\n\n// 分页处理\nconst handleSizeChange = (val) => {\n  pageSize.value = val;\n  getFiles();\n};\n\nconst handleCurrentChange = (val) => {\n  currentPage.value = val;\n  getFiles();\n};\n\n// 工具函数\nconst formatFileSize = (size) => {\n  if (size < 1024) return size + ' B';\n  if (size < 1024 * 1024) return (size / 1024).toFixed(2) + ' KB';\n  if (size < 1024 * 1024 * 1024) return (size / (1024 * 1024)).toFixed(2) + ' MB';\n  return (size / (1024 * 1024 * 1024)).toFixed(2) + ' GB';\n};\n\nconst formatDate = (date) => {\n  return new Date(date).toLocaleString();\n};\n\n// 获取所有标签\nconst getTags = async () => {\n  try {\n    const res = await getTagList();\n    tagList.value = res.Data;\n  } catch (error) {\n    console.error('获取标签列表失败:', error);\n  }\n};\n\n// 获取文件的标签\nconst getFileTagList = async (fileId) => {\n  try {\n    const res = await getFileTags(fileId);\n    currentFileTags.value = res.Data;\n  } catch (error) {\n    console.error('获取文件标签失败:', error);\n  }\n};\n\n// 打开标签管理对话框\nconst handleManageTags = async (file) => {\n  selectedFile.value = file;\n  await getFileTagList(file.id);\n  tagDialogVisible.value = true;\n};\n\n// 添加标签\nconst handleAddTag = async () => {\n  if (!selectedTag.value) return;\n  \n  try {\n    await addTagToFile({\n      fileId: selectedFile.value.id,\n      tagId: selectedTag.value\n    });\n    await getFileTagList(selectedFile.value.id);\n    await getFiles(); // 刷新文件列表以更新标签\n    selectedTag.value = null;\n    ElMessage.success('添加标签成功');\n  } catch (error) {\n    console.error('添加标签失败:', error);\n  }\n};\n\n// 移除标签\nconst handleRemoveTag = async (tag) => {\n  try {\n    await removeTagFromFile(selectedFile.value.id, tag.id);\n    await getFileTagList(selectedFile.value.id);\n    await getFiles(); // 刷新文件列表以更新标签\n    ElMessage.success('移除标签成功');\n  } catch (error) {\n    console.error('移除标签失败:', error);\n  }\n};\n\n// 初始化\nonMounted(async () => {\n  await getFiles();\n  await getTags();\n});\n\n// 监听文件类型变化\nwatch(fileType, () => {\n  handleSearch();\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.file-container {\n  .operation-bar {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 20px;\n\n    .right {\n      display: flex;\n      gap: 10px;\n\n      .search-input {\n        width: 200px;\n      }\n\n      .el-select {\n        width: 120px;\n      }\n    }\n  }\n\n  .file-name {\n    display: inline-block;\n    max-width: 300px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .pagination-container {\n    margin-top: 20px;\n    display: flex;\n    justify-content: flex-end;\n  }\n}\n\n.tag-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 5px;\n  align-items: center;\n\n  .tag-item {\n    margin-right: 5px;\n  }\n}\n\n.tag-dialog-content {\n  .current-tags {\n    margin-bottom: 20px;\n\n    h4 {\n      margin-bottom: 10px;\n    }\n\n    .el-tag {\n      margin-right: 8px;\n      margin-bottom: 8px;\n    }\n  }\n\n  .add-tag {\n    h4 {\n      margin-bottom: 10px;\n    }\n\n    .tag-select-row {\n      display: flex;\n      gap: 10px;\n\n      .tag-select {\n        flex: 1;\n      }\n    }\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}